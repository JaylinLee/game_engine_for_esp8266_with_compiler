<!DOCTYPE html>
<html>
<title>esp8266gameConsole</title>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#7CCD7C">
</head>
<body>
<link rel="stylesheet" type="text/css" href="style.css" />
	<div id="menu">
		<button onclick="onlyAsm();">asm</button>
		<button onclick="main();">compile</button>
		<button onclick="cpu.step();document.getElementById('debug').value = cpu.debug();clearTimeout(timerId);">step</button>
		<button onclick="run()">run</button>
		<button onclick="clearTimeout(timerId);document.getElementById('debug').value = cpu.debug();">stop</button>
		<button onclick="spriteEditor.edit()">sprite</button>
		<button onclick="listing();">listing</button>
		<button onclick="debugVars();">debug</button>
		<button onclick="viewHelp();">help</button>
	</div>
	<div id="container">
		<div id="wrap-left">
			<div class="header">memory</div>
			<textarea id="ram"></textarea>
			<div class="header">monitor</div>
			<div id="monitor">
				<div id="memoryPreviev">
					<button onclick="setMemoryPage('m')">-</button>
					<input id="memoryPage" value="00" onkeydown="if(event.keyCode==13)setMemoryPage(this.value)">
					<button onclick="setMemoryPage('p')">+</button>
					<textarea id="areaMemoryPrewiew" disabled="disabled"></textarea>
				</div>
				<canvas id="screen" width="256" height="320"></canvas>
				cpu speed,Hz
				<select id="cpuSpeed" name="cpuSpeed" onchange="cpuSpeed=this.value">
					<option value="3200">200 000</option>
					<option selected value="1600">100 000</option>
					<option value="800">50 000</option>
					<option value="400">25 000</option>
					<option value="160">10 000</option>
					<option value="80">5 000</option>
					<option value="16">1 000</option>
					<option value="8">500</option>
					<option value="2">100</option>
				</select>
				<textarea id="debug" disabled="disabled"></textarea>
			</div>
		</div>
		<div id="wrap-right">
			<div class="header">source</div>
			<div id="editBlock">
			<table id="edit-table">
			<tr>
				<td style="width:2em;position:relative;">
					<div spellcheck="false" disabled id="line-count"></div>
				</td><td style="width:100%;position:relative;">
					<textArea spellcheck="false" id="input" wrap="off">
#define N 470

int prime[1000];
int i;
int j;
int n = N;

void main()
{
	for(i = 0; i<N; i++){
		prime[i] = i;
	}
	prime[0] = 0;
	prime[1] = 0;
	for (i = 2; i * i <= n; i++){
	    if (prime[i])
	        for (j = i + i; j <= n; j += i)
	            prime[j] = 0;
	}
	for(i = 0; i<N; i++){
		if(prime[i])
			printf("%d ",prime[i]);
	}
}	
					</textArea>	
			</td></tr>
			</table>
			</div>
		</div>
	</div>
	<div class="header">information</div>
	<div id="alert"></div>
	<br>
	<div class="header">console input</div>
	<div id="consoleInput" onkeypress="if(event.keyCode == 13)sendToConsole();">
		<input id="textForConsole">
		<button onclick="sendToConsole();">send</button>
	</div>
	<div id="div_wind1" class="div_wind">
        <div id="drag_wind1" class="div_drag_wind" onmouseover="setup_mouse('div_wind1', 'drag_wind1');">
            <div>
               listing<div class="close" onclick="closewindow('div_wind1')">X</div>
            </div>
        </div>
        <div class="content_wind">
           <div id="disasm"></div>
        </div>
    </div>
	<div id="div_wind2" class="div_wind">
        <div id="drag_wind2" class="div_drag_wind" onmouseover="setup_mouse('div_wind2', 'drag_wind2');">
            <div>
               sprite editor<div class="close" onclick="closewindow('div_wind2')">X</div>
            </div>
        </div>
        <div class="content_wind">
           <div id="spriteEditior">
			<canvas id="pixelearea" width="16" height="17" ondrop="pAreaOnDrop(event)" ondragover="pAreaAllowDrop(event)"></canvas>	
			<button onclick="spriteEditor.clear();">clear</button>
			<button onclick="spriteEditor.selectAll();">select</button>
			<button onclick="spriteEditor.loadSprite();">load</button>
			<input type="checkbox" id="checkRle" onclick="spriteEditor.setRle(this.checked)">
			<label for="checkRle" id="checkRleLabel">RLE 100%</label>
			<b id="selectColor">[]</b>
			<b id="spriteInfo"></b>
			<textarea id="spriteArea">{0,0,0}</textarea>
		</div>
        </div>
    </div>
	<div id="div_wind3" class="div_wind">
        <div id="drag_wind3" class="div_drag_wind" onmouseover="setup_mouse('div_wind3', 'drag_wind3');">
            <div>
               debug<div class="close" onclick="closewindow('div_wind3')">X</div>
            </div>
        </div>
        <div class="content_wind">
           <textarea id="debugVariable" disabled="disabled"></textarea>
        </div>
    </div>
	<div id="div_wind4" class="div_wind" style="display:none">
        <div id="drag_wind4" class="div_drag_wind" onmouseover="setup_mouse('div_wind4', 'drag_wind4');">
            <div>
               help<div class="close" onclick="closewindow('div_wind4')">X</div>
            </div>
        </div>
        <div class="content_wind">
<pre style='color:#000020;background:#f6f8ff;margin:0;border: 1px solid #516399;'><span style='color:#0070de; font-weight:bold; '>char</span> <span style='color:#003060; '>putchar</span><span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>char</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> <span style='color:#003060; '>puts</span><span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>char</span><span style='color:#308080; '>[</span><span style='color:#308080; '>]</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> putn<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> <span style='color:#003060; '>printf</span><span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>char</span><span style='color:#308080; '>[</span><span style='color:#308080; '>]</span><span style='color:#308080; '>,</span> arg<span style='color:#308080; '>-</span>list<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> random<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> <span style='color:#003060; '>getchar</span><span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> getkey<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>int</span> gettimer<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> settimer<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> clearscreen<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> setcolor<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> putpixel<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> getsprite<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> n<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> address<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> putsprite<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> n<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> setimagesize<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> gotoxy<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> line<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> x1<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> y1<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> putimage<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> address<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span>
 <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> w<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> h<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> putimagerle<span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span> address<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> x<span style='color:#308080; '>,</span>
 <span style='color:#0070de; font-weight:bold; '>int</span> y<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> w<span style='color:#308080; '>,</span> <span style='color:#0070de; font-weight:bold; '>int</span> h<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#308080; '>*</span><span style='color:#0070de; font-weight:bold; '>int</span> <span style='color:#003060; '>malloc</span><span style='color:#308080; '>(</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#0070de; font-weight:bold; '>void</span> <span style='color:#003060; '>free</span><span style='color:#308080; '>(</span><span style='color:#308080; '>*</span><span style='color:#0070de; font-weight:bold; '>int</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
</pre>
        </div>
    </div>
	<script type="text/javascript" src="asm.js"></script>
	<script type="text/javascript" src="cpu.js"></script>
	<script type="text/javascript" src="spriteEditor.js"></script>
	<script type="text/javascript" src="compiler.js"></script>
	<script type="text/javascript" src="ui.js"></script>
</body>
</html>
